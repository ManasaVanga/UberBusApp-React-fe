(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),l=a(13),s=a.n(l);a(71).config();var o="http://uber-bus-app-alb-148583969.us-east-1.elb.amazonaws.com/api/locations",c=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getAllLocations",value:function(){return s.a.get(o)}},{key:"getLocationFromId",value:function(e){return s.a.get("".concat(o,"/").concat(e))}},{key:"createNewLocation",value:function(e){return s.a.post(o,e)}},{key:"getGeocodeFromAddress",value:function(e){var t=e.replace(/ /g,"+");return s.a.create().get("".concat("https://maps.googleapis.com/maps/api/geocode/json?address="+t+"&key=AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"))}},{key:"updateLocation",value:function(e){return s.a.patch(o+"/".concat(e._id),e)}}]),e}();t.default=new c},11:function(e,t,a){"use strict";a.r(t),a.d(t,"TOKEN_SESSION_ATTRIBUTE_NAME",(function(){return m})),a.d(t,"TOKEN_HEADER_LENGTH",(function(){return u}));var n=a(3),r=a(4),l=a(13),s=a.n(l),o=a(102),c=a.n(o),i="http://uber-bus-app-alb-148583969.us-east-1.elb.amazonaws.com/api/users",m="token",u=7,d=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"getAllUsers",value:function(){return s.a.get(i)}},{key:"getAllCustomers",value:function(){return s.a.get(i+"/customers",{headers:{authorization:this.getUserToken()}})}},{key:"getUserFromId",value:function(e){return s.a.get("".concat(i,"/").concat(e),{headers:{authorization:this.getUserToken()}})}},{key:"checkEmailExists",value:function(e){return s.a.post("".concat(i,"/email"),e)}},{key:"createNewUser",value:function(e){return s.a.post(i,e)}},{key:"loginUser",value:function(e){return console.log(i),s.a.post("".concat(i,"/login"),e)}},{key:"updateUser",value:function(e){return s.a.patch("".concat(i,"/").concat(e._id),e)}},{key:"registerSuccessfulLoginForJwt",value:function(e){localStorage.setItem(m,e),this.setupAxiosInterceptors(e)}},{key:"getLoggedInUserID",value:function(){var e=localStorage.getItem(m);return null===e?"":c()(e.slice(u)).id}},{key:"getLoggedInUserDetails",value:function(){var e=localStorage.getItem(m);return null===e?"":c()(e.slice(u))}},{key:"getUserToken",value:function(){var e=localStorage.getItem(m);return null===e?"":e.slice(u)}},{key:"setupAxiosInterceptors",value:function(e){var t=this;s.a.interceptors.request.use((function(a){return t.isUserLoggedIn()&&(a.headers.authorization=e),a}))}},{key:"isUserLoggedIn",value:function(){return null!==localStorage.getItem(m)}},{key:"isUserStaff",value:function(){var e=this.getLoggedInUserDetails();return"admin"===e.usertype||"staff"===e.usertype}},{key:"isUserAdmin",value:function(){return"admin"===this.getLoggedInUserDetails().usertype}},{key:"logout",value:function(){localStorage.removeItem(m),window.location.href="/"}}]),e}();t.default=new d},137:function(e,t,a){},139:function(e,t,a){},140:function(e,t,a){},147:function(e,t){e.exports="data:image/png;base64,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"},149:function(e,t,a){e.exports=a.p+"static/media/login.06871eca.gif"},152:function(e,t,a){e.exports=a.p+"static/media/userAvatar.788cfce9.png"},154:function(e,t,a){e.exports=a(316)},159:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a(4),l=a(13),s=a.n(l);a(71).config();var o="http://uber-bus-app-alb-148583969.us-east-1.elb.amazonaws.com/api/cars",c=function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"createNewCar",value:function(e){return s.a.post(o,e)}},{key:"getAllCars",value:function(){return s.a.get(o)}},{key:"getCar",value:function(e){return s.a.get("".concat(o,"/").concat(e))}},{key:"searchAvailableCars",value:function(e){return s.a.post(o+"/availability",e)}},{key:"filterCars",value:function(e){return s.a.post(o+"/filter",e)}},{key:"updateCar",value:function(e){return s.a.patch(o+"/".concat(e._id),e)}}]),e}();t.default=new c},182:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(28),s=a.n(l),o=(a(159),a(3)),c=a(4),i=a(7),m=a(6),u=a(44),d=a(38),h=a(326),p=a(325),g=a(146),E=a(11),f=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=E.default.isUserLoggedIn(),t=E.default.isUserStaff();return r.a.createElement(h.a,{bg:"light",expand:"lg"},r.a.createElement(h.a.Brand,{href:"/"},"Uber Bus"),r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(p.a,{className:"container-fluid"},r.a.createElement(p.a.Link,{href:"/locations"},"Locations"),e&&r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(p.a.Link,{href:"/myprofile"},"My Profile"),!t&&r.a.createElement(p.a.Link,{href:"/mybookings"},"My Bookings"),!t&&r.a.createElement(p.a.Link,{href:"/dashboard"},"Dashboard"),t&&r.a.createElement(p.a.Link,{href:"/staff"},"Staff Dashboard"),t&&r.a.createElement(p.a.Link,{href:"/buses"},"Bus")),e&&r.a.createElement(g.a,{className:"ml-auto"},r.a.createElement(p.a.Link,{onClick:E.default.logout},"Logout"))),r.a.createElement(p.a,null,!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a.Link,{href:"/signup"},"Signup"),r.a.createElement(p.a.Link,{href:"/login"},"Login")))))}}]),a}(n.Component),b=a(318),v=(a(182),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){E.default.isUserLoggedIn(),E.default.isUserStaff();return r.a.createElement(b.a,{id:"landing-page",fluid:!0})}}]),a}(n.Component)),k=a(17),y=a(9),C=a(327),S=a(324),M=a(319),w=a(148),O=a(320),j=(a(65),a(56)),A=a.n(j),L=a(57),B=a.n(L),I=a(75),F=a.n(I),P=a(76),N=a.n(P),H=a(101),D=a.n(H),U=a(45),T=D()({palette:{},appBar:{height:57,color:U.blue600},drawer:{width:230,color:U.grey900},raisedButton:{primaryColor:U.blue600}}),z=a(147),x=a.n(z),G={minWidth:"320px",maxWidth:400,height:"auto",position:"absolute",top:"20%",left:0,right:0,margin:"auto"},W={padding:20,overflow:"auto"},R={textAlign:"center",padding:5},q={color:"grey"},V={maxWidth:350},Z=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={firstname:n.state.firstname.trim(),lastname:n.state.lastname.trim(),email:n.state.email,password:n.state.password,usertype:"customer"};if(""===n.state.firstname)return n.setState({errorMessage:"First name can't be empty!"});if(""===n.state.lastname)return n.setState({errorMessage:"Last name can't be empty!"});if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n.state.email).toLowerCase()))return n.setState({errorMessage:"Please enter a valid email!"});E.default.createNewUser(t).then((function(){E.default.loginUser({email:n.state.email,password:n.state.password}).then((function(e){E.default.registerSuccessfulLoginForJwt(e.data.token),window.location.href="/"}))})).catch((function(e){n.setState({errorMessage:e.response.data.message})}))},n.state={firstname:"",lastname:"",email:"",password:"",errorMessage:""},n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("html",null,r.a.createElement("body",{id:"login"},r.a.createElement(A.a,{muiTheme:T},r.a.createElement("div",null,r.a.createElement("div",{style:G},r.a.createElement(B.a,{style:W},r.a.createElement("img",{alt:"Sign UP",style:V,src:x.a}),r.a.createElement("div",{className:"container"},this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Sign up failed!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement(S.a,{onSubmit:this.handleSubmit,id:"signup_form"},r.a.createElement("h4",null,"Sign up"),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFirstName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"First Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"firstname",type:"firstname",placeholder:"First Name",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLastName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Last Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"lastname",type:"lastname",placeholder:"Last Name",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalEmail"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Email"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"email",type:"email",placeholder:"Email",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalPassword"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Password"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"password",type:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters",placeholder:"Password",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{type:"submit"},"Create Account"))),r.a.createElement("div",{style:R},"Already Have an account?",r.a.createElement(F.a,{label:"Login",href:"/login",style:q,icon:r.a.createElement(N.a,null)}))))))))))}}]),a}(n.Component),Y=a(149),J=a.n(Y),Q={minWidth:"320px",maxWidth:400,height:"auto",position:"absolute",top:"20%",left:0,right:0,margin:"auto"},K={padding:20,overflow:"auto"},X={textAlign:"center",padding:5},_={color:"grey"},$={fontWeight:"bold"},ee={maxWidth:350},te=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={email:n.state.email,password:n.state.password};if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n.state.email).toLowerCase()))return n.setState({errorMessage:"Please enter a valid email!"});E.default.loginUser(t).then((function(e){E.default.registerSuccessfulLoginForJwt(e.data.token),window.location.href="/"})).catch((function(e){n.setState({errorMessage:e.response.data.message})}))},n.state={email:"",password:"",errorMessage:""},n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("html",null,r.a.createElement("body",{id:"login"},r.a.createElement(A.a,{muiTheme:T},r.a.createElement("div",null,r.a.createElement("div",{style:Q},r.a.createElement(B.a,{style:K},r.a.createElement("img",{alt:"Login",style:ee,src:J.a}),r.a.createElement("div",{className:"container"},this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Login failed!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement(S.a,{onSubmit:this.handleSubmit,id:"login_form",className:"center"},r.a.createElement("h4",{className:$},"Sign in"),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalEmail"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Email"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"email",type:"email",placeholder:"Email",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalPassword"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Password"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"password",type:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters",placeholder:"Password",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{type:"submit"},"Login"))))),r.a.createElement("div",{style:X},"Don't have an account?",r.a.createElement(F.a,{label:"Register",href:"/signup",style:_,icon:r.a.createElement(N.a,null)}))))))))}}]),a}(n.Component),ae=a(15),ne=a(10),re=(a(137),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={locations:[],activeMarker:{},showingInfoWindow:!1,selectedPlace:{}},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.locations;ne.default.getAllLocations().then((function(a){a.data.forEach((function(a){ne.default.getGeocodeFromAddress(a.address).then((function(n){var r={id:a._id,address:a.address,name:a.name,lat:n.data.results[0].geometry.location.lat,lng:n.data.results[0].geometry.location.lng,cars:a.cars};t.push(r),e.setState({locations:t})}))}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement(ae.Map,{google:this.props.google,initialCenter:{lat:-37.815198,lng:144.957045},zoom:14,onClick:this.mapOnMapClick},this.state.locations.map((function(t){return r.a.createElement(ae.Marker,{id:t.id,name:t.name,address:t.address,onClick:e.mapOnMarkerClick,position:{lat:t.lat,lng:t.lng}})})),r.a.createElement(ae.InfoWindow,{onClose:this.onInfoWindowClose,marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",{id:"info-window"},r.a.createElement("h2",null,this.state.selectedPlace.name),r.a.createElement("p",null,this.state.selectedPlace.address),r.a.createElement("a",{href:"/locations/"+this.state.selectedPlace.id},"Check out this location")))))}}]),a}(r.a.Component)),le=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(re),se=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return E.default.isUserLoggedIn()?r.a.createElement(d.b,this.props):r.a.createElement(d.a,{to:"/"})}}]),a}(n.Component),oe=a(153),ce=(a(309),{borderBottom:"4px solid #009bde",color:"white"}),ie={color:"white"},me=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=window.location.pathname,t=E.default.isUserAdmin;return r.a.createElement(b.a,{style:{margin:"0",padding:"0",maxWidth:"100%"}},r.a.createElement(M.a,{style:{margin:"0"}},r.a.createElement(w.a,{className:"sidenav",md:2},r.a.createElement("h3",null,t?"Admin":"Staff"," Functions"),r.a.createElement("p",null,r.a.createElement("a",{href:"/staff",style:"/staff"===e?ce:ie},"Overview")),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/signup",style:"/admin/signup"===e?ce:ie},"Create Account")),r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/addcars",style:"/admin/addcars"===e?ce:ie},"Create Bus")),r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/addlocation",style:"/admin/addlocation"===e?ce:ie},"Add Location")),r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/view/customers",style:"/admin/customers"===e?ce:ie},"View All Customers")),r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/view/bookings",style:"/admin/view/bookings"===e?ce:ie},"View All Bookings")),r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/view/cars",style:"/admin/view/cars"===e?ce:ie},"View All Buses")),r.a.createElement("p",null,r.a.createElement("a",{href:"/admin/view/location",style:"/admin/view/location"===e?ce:ie},"View All Locations")))),r.a.createElement(w.a,{className:"main",md:10,style:{paddingTop:"5vh"}},this.props.children)))}}]),a}(n.Component),ue=function(e){var t=e.component,a=Object(oe.a)(e,["component"]);return E.default.isUserLoggedIn()&&(E.default.isUserStaff()||E.default.isUserAdmin())?r.a.createElement(d.b,Object.assign({},a,{render:function(e){return r.a.createElement(me,null,r.a.createElement(t,e))}})):r.a.createElement(d.a,{to:"/"})},de=a(321),he=a(16),pe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={location:{},cars:[],activeMarker:{},showingInfoWindow:!1,selectedPlace:{},isLoading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.url.split("/")[2];ne.default.getLocationFromId(t).then((function(t){ne.default.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.address,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({location:n,isLoading:!0})})),t.data.cars.forEach((function(t){he.default.getCar(t).then((function(t){e.state.cars.push(t.data.car),e.setState({cars:e.state.cars})}))}))}))}},{key:"render",value:function(){return r.a.createElement(b.a,{style:{padding:"1vh"}},r.a.createElement(de.a,null,r.a.createElement("h2",null,"Welcome to one of our locations"),r.a.createElement(O.a,{href:"/locations",variant:"primary"},"Back to the map")),this.state.isLoading&&r.a.createElement("div",{id:"garage-map",style:{height:"400px"}},r.a.createElement(ae.Map,{google:this.props.google,initialCenter:{lat:this.state.location.lat,lng:this.state.location.lng},style:{height:"400px",width:"400px"},zoom:14,onClick:this.mapOnMapClick},r.a.createElement(ae.Marker,{id:this.state.location.id,name:this.state.location.name,address:this.state.location.address,onClick:this.mapOnMarkerClick,position:{lat:this.state.location.lat,lng:this.state.location.lng}}),r.a.createElement(ae.InfoWindow,{onClose:this.onInfoWindowClose,marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",{id:"info-window"},r.a.createElement("h2",null,this.state.selectedPlace.name),r.a.createElement("p",null,this.state.selectedPlace.address),r.a.createElement("a",{href:"/locations/"+this.state.selectedPlace.id},"Check out this location"))))),r.a.createElement("h3",null,this.state.location.name),r.a.createElement("strong",null,"Address: "),r.a.createElement("p",null,this.state.location.address),r.a.createElement("strong",null,"Number of cars: "),r.a.createElement("p",null,this.state.cars.length),r.a.createElement("strong",null,"Cars at this location:"),r.a.createElement(b.a,{fluid:!0,id:"car-show"},r.a.createElement(M.a,null,this.state.cars.map((function(e){return r.a.createElement(ge,{car:e})})))))}}]),a}(n.Component);function ge(e){var t=e.car;return r.a.createElement(w.a,{sm:4},r.a.createElement("div",{className:"cars-div-white",style:{border:"solid black 2px"}},r.a.createElement("img",{src:t.image,alt:"car",width:"100"}),r.a.createElement("h2",{style:{marginTop:"1vh"}},t.make),r.a.createElement("p",null,t.fueltype,", ",t.bodytype,", ",t.seats," seaters, ",t.colour),r.a.createElement("h5",null,"$",t.costperhour," per hour")))}var Ee=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(pe),fe=a(322),be=a(13),ve=a.n(be);a(71).config();var ke="http://uber-bus-app-alb-148583969.us-east-1.elb.amazonaws.com/api/bookings",ye=new(function(){function e(){Object(o.a)(this,e)}return Object(c.a)(e,[{key:"getNextBooking",value:function(){return ve.a.get("".concat(ke,"/customers/next"),{headers:{authorization:E.default.getUserToken()}})}},{key:"createBooking",value:function(e){return ve.a.post(ke,e)}},{key:"getUserBookings",value:function(e){return ve.a.get("".concat(ke,"/customers/all/").concat(e),{headers:{authorization:E.default.getUserToken()}})}},{key:"getUserBooking",value:function(e){return ve.a.get("".concat(ke,"/customers/").concat(e),{headers:{authorization:E.default.getUserToken()}})}},{key:"modifyBooking",value:function(e){return ve.a.patch("".concat(ke,"/customers/").concat(e.id),e)}},{key:"getAllBookings",value:function(){return ve.a.get("".concat(ke,"/customers/all"),{headers:{authorization:E.default.getUserToken()}})}},{key:"getBooking",value:function(e){return ve.a.get("".concat(ke,"/").concat(e),{headers:{authorization:E.default.getUserToken()}})}}]),e}()),Ce=(a(139),function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleConfirmButton=function(e){e.preventDefault(),console.log(n.state.destination);var t={pickupTime:n.state.pickupTime,returnTime:n.state.returnTime,user:E.default.getLoggedInUserID(),car:n.state.car._id,destination:n.state.destination,location:n.state.car.location};console.log(t),ye.createBooking(t).then((function(e){window.location.href="/mybookings/".concat(e.data.response.booking._id)})).catch((function(e){n.setState({errorMessage:e.response.data.message})}))},n.handleCancelButton=function(e){window.location.href="/dashboard"},n.mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={errorMessage:"",location:{},destination:"",destinations:[],activeMarker:{},showingInfoWindow:!1,selectedPlace:{},isLoading:!1,locations:n.props.location.state.locations,car:n.props.location.state.car,pickupTime:n.props.location.state.pickupTime,returnTime:n.props.location.state.returnTime},n.handleConfirmButton=n.handleConfirmButton.bind(Object(y.a)(n)),n.handleCancelButton=n.handleCancelButton.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.state.car;ne.default.getLocationFromId(t.location).then((function(t){ne.default.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.address,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({location:n,isLoading:!0})}))}));var a=this.state.destinations,n=this.state.destination;ne.default.getAllLocations().then((function(t){t.data.forEach((function(e){var t={id:e._id,address:e.address,name:e.name};a.push(t)})),n=a[0].id,e.setState({destination:n})}))}},{key:"calculateBookingCost",value:function(){var e=new Date(this.state.pickupTime),t=new Date(this.state.returnTime),a=new Date(t-e).getTime()/3600;return(parseInt(this.state.car.costperhour)*(a/1e3)).toFixed(2)}},{key:"render",value:function(){var e=this.state.car,t=this.state.locations,a=this.state.pickupTime,n=this.state.returnTime,l=this.calculateBookingCost();return r.a.createElement("html",null,r.a.createElement("body",null,r.a.createElement("div",{className:"container"},this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Booking failed!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement(S.a,{responsive:!0},r.a.createElement("h2",null,"Confirm Booking?"),r.a.createElement("b",null,"Pickup time: ")," ",a," ",r.a.createElement("br",null),r.a.createElement("b",null,"Return time: ")," ",n," ",r.a.createElement("br",null),r.a.createElement("b",null,"Cost: ")," $",l," ",r.a.createElement("br",null),r.a.createElement("b",null,"Location: ")," ",t.map((function(t){return r.a.createElement(r.a.Fragment,null,t.id===e.location&&r.a.createElement(r.a.Fragment,null,t.name))}))," ",r.a.createElement("br",null),r.a.createElement("b",null,"Address: ")," ",t.map((function(t){return r.a.createElement(r.a.Fragment,null,t.id===e.location&&r.a.createElement(r.a.Fragment,null,t.address))}))," ",r.a.createElement("br",null),r.a.createElement(w.a,{sm:4},r.a.createElement("div",{className:"cars-div-white"},r.a.createElement("img",{src:e.image,alt:"car",width:"100"}),r.a.createElement("h2",{style:{marginTop:"1vh"}},e.make),r.a.createElement("p",null,e.fueltype,", ",e.bodytype,", ",e.seats," seaters, ",e.colour),r.a.createElement("h5",null,"$",e.costperhour," per hour"),r.a.createElement("a",{href:"/locations/"+e.location},r.a.createElement("strong",null,"Garage Location:")," ",e.location))),r.a.createElement(b.a,null,r.a.createElement(S.a.Group,{controlId:"exampleForm.ControlSelect2"},r.a.createElement(S.a.Label,null,"Destination"),r.a.createElement(S.a.Control,{name:"destination",as:"select",onChange:this.handleChange},this.state.destinations.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:e.id,defaultValue:e.id},e.name+" @ "+e.address))}))))),r.a.createElement(O.a,{variant:"success",onClick:this.handleConfirmButton},"Confirm"),r.a.createElement(O.a,{variant:"danger",onClick:this.handleCancelButton},"Cancel")))))}}]),a}(n.Component)),Se=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(Ce),Me={color:"white"},we={color:"orange"},Oe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmitFilter=function(e){e.preventDefault();var t={pickupTime:n.state.pickupTime,returnTime:n.state.returnTime,availableCars:n.state.availableCars,make:n.state.make,seats:n.state.seats,fueltype:n.state.fueltype,colour:n.state.colour,location:n.state.location,bodytype:n.state.bodytype};he.default.filterCars(t).then((function(e){n.setState({availableCars:e.data.availableCars,errorMessage:""})})).catch((function(e){n.setState({errorMessage:e.response.data.message,availableCars:[]})}))},n.state={pickupTime:"",returnTime:"",availableCars:[],make:"",seats:"Any",fueltype:"Any",colour:"Any",location:"Any",bodytype:"Any",locations:[],errorMessage:"",popUp:!1,selectedCar:""},n.handleSubmitFilter=n.handleSubmitFilter.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.confirmBooking=n.confirmBooking.bind(Object(y.a)(n)),n.togglePopUp=n.togglePopUp.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"togglePopUp",value:function(e){this.state.popUp&&(e=null),this.setState({popUp:!this.state.popUp,selectedCar:e})}},{key:"confirmBooking",value:function(e){this.props.history.push({pathname:"/confirmBooking",state:{car:e,locations:this.state.locations,pickupTime:this.state.pickupTime,returnTime:this.state.returnTime}})}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.availableCars,n=t.pickupTime,r=t.returnTime;0!==a.length&&""!==n&&""!==r||this.props.history.push("/dashboard"),this.setState({availableCars:a,pickupTime:n,returnTime:r});var l=this.state.locations;ne.default.getAllLocations().then((function(t){t.data.forEach((function(t){var a={id:t._id,address:t.address,name:t.name};l.push(a),e.setState({locations:l})}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:Me},this.state.popUp&&r.a.createElement(Se,{locations:this.state.locations,car:this.state.selectedCar,pickupTime:this.state.pickupTime,returnTime:this.state.returnTime,togglePopUp:this.togglePopUp}),r.a.createElement("h2",null,"Search for a car"),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error filtering cars!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement(S.a,{onSubmit:this.handleSubmitFilter,id:"filter_form"},r.a.createElement(S.a.Group,{controlId:"exampleForm.ControlSelect2",responsive:!0},r.a.createElement(S.a.Label,null,"Location"),r.a.createElement(S.a.Control,{name:"location",as:"select",onChange:this.handleChange},r.a.createElement("option",null,"Any"),this.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:e.id},e.name+" @ "+e.address))})))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,null,r.a.createElement(O.a,{type:"submit"},"Filter Buses")))),r.a.createElement("h2",null,"Available Cars from ",this.state.pickupTime," till ",this.state.returnTime),r.a.createElement(fe.a,{bordered:!0,responsive:!0,style:we},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Make"),r.a.createElement("th",null,"Seats"),r.a.createElement("th",null,"Body Type"),r.a.createElement("th",null,"Colour"),r.a.createElement("th",null,"Cost per hour"),r.a.createElement("th",null,"Fuel Type"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Operation"))),r.a.createElement("tbody",null,this.state.availableCars.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.make),r.a.createElement("td",null,t.seats),r.a.createElement("td",null,t.bodytype),r.a.createElement("td",null,t.colour),r.a.createElement("td",null,"$",t.costperhour),r.a.createElement("td",null,t.fueltype),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,e.name))}))),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,e.address))}))),r.a.createElement("td",null,r.a.createElement(O.a,{onClick:function(){return e.confirmBooking(t)}},"Book")))})))))}}]),a}(n.Component),je={color:"white"},Ae=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t={pickupTime:n.state.pickupTime,returnTime:n.state.returnTime};he.default.searchAvailableCars(t).then((function(e){n.props.updateCars(e.data.availableCars,n.state.pickupTime,n.state.returnTime),n.props.history.push("/filter")})).catch((function(e){n.setState({errorMessage:e.response.data.message})}))},n.mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={pickupTime:"",returnTime:"",errorMessage:"",nextBooking:{},nextBookingExists:!1,car:"",location:"",successHeader:"",successMsg:"",availablePickup:!1,avaialbleReturn:!1,activeMarker:{},showingInfoWindow:!1,selectedPlace:{},isLoading:!1},n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handlePickupButton=n.handlePickupButton.bind(Object(y.a)(n)),n.handleReturnButton=n.handleReturnButton.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"handlePickupButton",value:function(){var e=this,t=this.state.nextBooking;t.status="Picked up",t.id=t._id,this.setState({nextBooking:t}),ye.modifyBooking(this.state.nextBooking).then((function(){e.setState({successHeader:"Pickup success!",successMsg:"Car has been picked up! Please return it before your specified return time.",availablePickup:!1,avaialbleReturn:!0})}))}},{key:"handleReturnButton",value:function(){var e=this,t=this.state.nextBooking;t.status="Returned",t.id=t._id,this.setState({nextBooking:t}),ye.modifyBooking(this.state.nextBooking).then((function(){e.setState({successHeader:"Return success!",successMsg:"Car has been returned! Thanks for using MZA Car Share!",avaialbleReturn:!1})}))}},{key:"componentDidMount",value:function(){var e=this;ye.getNextBooking().then((function(t){if(Object.keys(t.data).length){var a=new Date;a.setMinutes(a.getMinutes()-a.getTimezoneOffset()),e.setState({nextBooking:t.data,nextBookingExists:!0,availablePickup:!(new Date(t.data.pickuptime)>a)&&"Confirmed"===t.data.status,avaialbleReturn:"Picked up"===t.data.status}),he.default.getCar(t.data.car).then((function(t){e.setState({car:t.data.car})})),ne.default.getLocationFromId(t.data.location).then((function(t){ne.default.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.address,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({location:n,isLoading:!0})}))}))}})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.successMsg&&r.a.createElement(C.a,{variant:"success"},r.a.createElement(C.a.Heading,null,this.state.successHeader),r.a.createElement("p",null,this.state.successMsg)),this.state.nextBookingExists&&r.a.createElement("html",null,r.a.createElement("body",null,r.a.createElement(b.a,null,r.a.createElement("h2",{style:je},"Your upcoming ride: "),r.a.createElement(fe.a,{responsive:!0},r.a.createElement("tr",{style:je},r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"Booking time"),r.a.createElement("th",null,"Pickup time"),r.a.createElement("th",null,"Return time"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status")),r.a.createElement("tr",{style:je},r.a.createElement("td",null,this.state.nextBooking._id),r.a.createElement("td",null,this.state.nextBooking.bookedtime),r.a.createElement("td",null,this.state.nextBooking.pickuptime),r.a.createElement("td",null,this.state.nextBooking.returntime),r.a.createElement("td",null,"$",this.state.nextBooking.cost),r.a.createElement("td",null,this.state.location.name),r.a.createElement("td",null,this.state.location.address),r.a.createElement("td",null,this.state.nextBooking.status))),r.a.createElement(O.a,{href:"/mybookings/".concat(this.state.nextBooking._id)},"View Booking")))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error checking availability!"),r.a.createElement("p",null,this.state.errorMessage)),!this.state.nextBookingExists&&r.a.createElement("html",null,r.a.createElement("body",{id:"login"},r.a.createElement("h2",{style:je},"Find you a bus!"),r.a.createElement(S.a,{onSubmit:this.handleSubmit,id:"availability_form"},r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFirstName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Pickup Time"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"pickupTime",type:"datetime-local",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLastName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Return Time"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"returnTime",type:"datetime-local",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{type:"submit"},"Check Availability")))))))}}]),a}(n.Component),Le=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(Ae),Be={color:"white"},Ie=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={bookings:[],locations:[],destinations:[],cars:[],errorMessage:""},n.handleCancelButton=n.handleCancelButton.bind(Object(y.a)(n)),n.getUsersBookings=n.getUsersBookings.bind(Object(y.a)(n)),n.checkBookingPast=n.checkBookingPast.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.getUsersBookings(),ne.default.getAllLocations().then((function(t){var a=e.state.locations,n=e.state.destinations;t.data.forEach((function(t){var r={id:t._id,address:t.address,name:t.name},l={id:t._id,address:t.address,name:t.name};a.push(r),n.push(l),e.setState({locations:a}),e.setState({destinations:n})}))})).catch((function(t){e.setState({errorMessage:t.response.data.message})})),he.default.getAllCars().then((function(t){e.setState({cars:t.data.cars})})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"getUsersBookings",value:function(){var e=this,t=E.default.getLoggedInUserDetails();ye.getUserBookings(t.id).then((function(t){e.setState({bookings:t.data.bookings.reverse()})})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"checkBookingPast",value:function(e){var t=new Date;return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),new Date(e)>t}},{key:"handleCancelButton",value:function(e){var t=this;e.status="Cancelled",ye.modifyBooking(e).then((function(){t.getUsersBookings()})).catch((function(e){t.setState({errorMessage:e.response.data.message})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,{style:Be},this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error obtaining bookings!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement("h2",null,"My Bookings"),r.a.createElement("br",null),r.a.createElement(fe.a,{bordered:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",{style:Be},r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"Booked Time"),r.a.createElement("th",null,"Pickup Time"),r.a.createElement("th",null,"Return Time"),r.a.createElement("th",null,"Bus"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Destination"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Details"),r.a.createElement("th",null,"Cancel"))),r.a.createElement("tbody",null,this.state.bookings.map((function(t){return r.a.createElement("tr",{style:Be},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.bookedtime),r.a.createElement("td",null,t.pickuptime),r.a.createElement("td",null,t.returntime),r.a.createElement("td",null,e.state.cars.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.car&&r.a.createElement(r.a.Fragment,null,e.make))}))),r.a.createElement("td",null,"$",t.cost),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,e.name))}))),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,e.address))}))),r.a.createElement("td",null,e.state.destinations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.destination&&r.a.createElement(r.a.Fragment,null,e.address))}))),r.a.createElement("td",null,t.status),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/mybookings/".concat(t.id)},"View")),"Confirmed"===t.status&&e.checkBookingPast(t.pickuptime)&&r.a.createElement("td",null,r.a.createElement(O.a,{variant:"danger",onClick:function(){return e.handleCancelButton(t)}},"Cancel")),"Cancelled"===t.status&&e.checkBookingPast(t.pickuptime)&&r.a.createElement("td",null,r.a.createElement(O.a,{variant:"danger",disabled:!0},"Cancel")))})))))}}]),a}(n.Component),Fe=(a(140),{color:"white"}),Pe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={location:{},destination:{},booking:{},car:{},errorMessage:"",activeMarker:{},showingInfoWindow:!1,selectedPlace:{},isLoading:!1},n.handleCancelButton=n.handleCancelButton.bind(Object(y.a)(n)),n.getBookingDetails=n.getBookingDetails.bind(Object(y.a)(n)),n.checkBookingPast=n.checkBookingPast.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"getBookingDetails",value:function(){var e=this;ye.getUserBooking(this.props.match.params.id).then((function(t){e.setState({booking:t.data.booking}),he.default.getCar(e.state.booking.car).then((function(t){e.setState({car:t.data.car})})),ne.default.getLocationFromId(e.state.booking.location).then((function(t){ne.default.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.address,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({location:n,isLoading:!0})}))})),ne.default.getLocationFromId(e.state.booking.destination).then((function(t){ne.default.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.name,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({destination:n,isLoading:!0})}))}))})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"componentDidMount",value:function(){this.getBookingDetails()}},{key:"handleCancelButton",value:function(){var e=this,t=this.state.booking;t.status="Cancelled",t.id=t._id,this.setState({booking:t}),ye.modifyBooking(this.state.booking).then((function(){e.getBookingDetails()})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"checkBookingPast",value:function(e){var t=new Date;return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),new Date(e)>t}},{key:"render",value:function(){return r.a.createElement("html",null,r.a.createElement("body",null,r.a.createElement("div",{className:"container"},r.a.createElement("h2",{style:Fe},"Booking details"),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,{style:Fe},"Error obtaining booking!"),r.a.createElement("p",null,this.state.errorMessage)),!this.state.errorMessage&&r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null,r.a.createElement(fe.a,{bordered:!0,responsive:"sm",style:Fe},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"Booking time"),r.a.createElement("th",null,"Pickup time"),r.a.createElement("th",null,"Return time"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Destination"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,this.state.booking._id),r.a.createElement("td",null,this.state.booking.bookedtime),r.a.createElement("td",null,this.state.booking.pickuptime),r.a.createElement("td",null,this.state.booking.returntime),r.a.createElement("td",null,"$",this.state.booking.cost),r.a.createElement("td",null,this.state.location.name),r.a.createElement("td",null,this.state.destination.name),r.a.createElement("td",null,this.state.location.address),r.a.createElement("td",null,this.state.booking.status))))),"Confirmed"===this.state.booking.status&&this.checkBookingPast(this.state.booking.pickuptime)&&r.a.createElement(O.a,{variant:"danger",onClick:this.handleCancelButton},"Cancel"),r.a.createElement(w.a,{lg:!0,sm:4},r.a.createElement("div",{className:"cars-div-white",style:{border:"solid black 2px"}},r.a.createElement("img",{src:this.state.car.image,alt:"car",width:"100"}),r.a.createElement("h2",{style:{marginTop:"1vh"}},this.state.car.make),r.a.createElement("p",null,this.state.car.fueltype,", ",this.state.car.bodytype,", ",this.state.car.seats," seaters, ",this.state.car.colour),r.a.createElement("h5",null,"Number Plate: ",this.state.car.numberplate),r.a.createElement("p",null,r.a.createElement("b",null,"Bus ID: "),this.state.car._id)))))))}}]),a}(n.Component),Ne=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(Pe),He=(a(310),a(152)),De=a.n(He),Ue=a(11).default,Te={minWidth:"320px",maxWidth:400,height:"auto",position:"absolute",top:"20%",left:0,right:0,margin:"auto"},ze={padding:20,overflow:"auto"},xe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).uppercase=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e}return Object(c.a)(a,[{key:"render",value:function(){var e=Ue.getLoggedInUserDetails();return r.a.createElement("html",null,r.a.createElement("body",null,r.a.createElement(A.a,{muiTheme:T},r.a.createElement("div",null,r.a.createElement("div",{style:Te},r.a.createElement(B.a,{style:ze},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:De.a,className:"card-img-top",alt:""})),r.a.createElement("h4",{className:"card-title"},this.uppercase(e.firstname)+" "+this.uppercase(e.lastname)),r.a.createElement("p",{className:"card-text"},e.email),r.a.createElement("p",{className:"text1"},"Customer ID - ",e.id),r.a.createElement("p",null,r.a.createElement(O.a,{href:"/mybookings"},"View My Bookings"))))))))))}}]),a}(n.Component),Ge=a(11).default,We=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=Ge.getLoggedInUserDetails();return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"My Profile"),r.a.createElement("strong",null,"First name: "),e.firstname," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Last name: "),e.lastname," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Email: "),e.email," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Staff ID: "),e.id," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Staff type: "),e.usertype," ",r.a.createElement("br",null))}}]),a}(n.Component),Re=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){var t={firstname:n.state.firstname.trim(),lastname:n.state.lastname.trim(),email:n.state.email,password:n.state.password,usertype:n.state.usertype};if(""===n.state.firstname)return n.setState({errorMessage:"First name can't be empty!"});if(""===n.state.lastname)return n.setState({errorMessage:"Last name can't be empty!"});if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n.state.email).toLowerCase()))return n.setState({errorMessage:"Please enter a valid email!"});E.default.createNewUser(t).then((function(){n.setState({successMessage:"User has been created!",errorMessage:""})})).catch((function(e){n.setState({errorMessage:e.response.data.message})}))},n.state={firstname:"",lastname:"",email:"",password:"",usertype:"",errorMessage:"",successMessage:""},n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create Account"),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Sign up failed!"),r.a.createElement("p",null,this.state.errorMessage)),this.state.successMessage&&r.a.createElement(C.a,{variant:"success"},r.a.createElement(C.a.Heading,null,"Account created!"),r.a.createElement("p",null,this.state.successMessage)),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFirstName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"First Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"firstname",type:"firstname",placeholder:"First Name",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLastName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Last Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"lastname",type:"lastname",placeholder:"Last Name",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalEmail"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Email"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"email",type:"email",placeholder:"Email",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalPassword"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Password"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"password",type:"password",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain: at least one number, one uppercase, lowercase letter, and at least 8 or more characters",placeholder:"Password",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalUserType"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Account Type"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"usertype",as:"select",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select account type"),r.a.createElement("option",null,"customer"),r.a.createElement("option",null,"staff"),r.a.createElement("option",null,"admin")))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{onClick:this.handleSubmit},"Create Account")))))}}]),a}(n.Component),qe=["Black","Yellow","Blue","White","Green","Red","Orange","Purple"],Ve=["Sedan","MPV","Sports","Hatchback","Ute"],Ze=[2,4,5,6,7],Ye=["Petrol","Diesel"],Je=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).resetState=function(){n.setState({make:"",seats:"",bodytype:"",numberplate:"",colour:"",costperhour:"",fueltype:"",location:"",b64photo:""})},n.handleFile=function(e){var t=e.target.files;if(null!==t){if(e.target.files[0].size>4e6)return n.setState({errMsg:"Image exceeded upload size limit! Please try again with another image."});var a=new FileReader;a.readAsDataURL(t[0]),a.onload=function(e){n.setState({b64photo:e.target.result,errMsg:""})}}},n.handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.inputValidation=function(){var e=n.state,t=e.make,a=e.seats,r=e.bodytype,l=e.numberplate,s=e.colour,o=e.costperhour,c=e.fueltype,i=e.location,m=e.b64photo;return""===t||""===a||""===r||""===l||""===s||""===o||""===c||""===i||""===m?(n.setState({errMsg:"Please fill in everything"}),!1):(n.setState({errMsg:""}),!0)},n.handleSubmit=function(e){if(e.preventDefault(),n.inputValidation()){n.setState({disableSubmit:!0});var t={make:n.state.make.trim(),seats:n.state.seats,bodytype:n.state.bodytype,numberplate:n.state.numberplate.trim(),colour:n.state.colour,costperhour:n.state.costperhour,fueltype:n.state.fueltype,location:n.state.location,b64photo:n.state.b64photo};he.default.createNewCar(t).then((function(e){n.setState({disableSubmit:!1,successMsg:"Successfully added car",errMsg:""})}),(function(e){n.setState({disableSubmit:!1,successMsg:"",errMsg:e.response.data.message}),console.log(e.response)}))}},n.state={make:"",seats:"",bodytype:"",numberplate:"",colour:"",costperhour:"",fueltype:"",location:"",locationList:[],disableSubmit:!1,successMsg:"",errMsg:"",b64photo:""},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleFile=n.handleFile.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;ne.default.getAllLocations().then((function(t){t.data.map((function(t){return e.setState({locationList:e.state.locationList.concat(t.address)})}))}),(function(e){console.log(e.response)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create Bus"),this.state.errMsg&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Add bus failed!"),r.a.createElement("p",null,this.state.errMsg)),this.state.successMsg&&r.a.createElement(C.a,{variant:"success"},r.a.createElement(C.a.Heading,null,"Add bus succeed!"),r.a.createElement("p",null,this.state.successMsg)),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalMake"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Make"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"make",type:"make",placeholder:"Bus Make",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalSeats"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Seats"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"seats",type:"seats",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select seat number"),Ze.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalBodyType"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Body type"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"bodytype",type:"bodytype",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select body type"),Ve.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalNumberPlate"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Number Plate"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"numberplate",type:"numberplate",placeholder:"Enter plate number",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalColour"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Colour"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"colour",type:"colour",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select colour"),qe.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalCostPerHour"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Cost per hour"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"costperhour",type:"number",placeholder:"Select cost per hour",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFuelType"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Fuel type"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"fueltype",type:"fueltype",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select fuel type"),Ye.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLocation"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Location"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"location",type:"location",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select location"),"l",this.state.locationList.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLocation"},r.a.createElement(S.a.Label,{column:!0,sm:2}),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.File,{id:"custom-file",label:"Bus Image (4MB max)",name:"b64photo",accept:"image/*",onChange:this.handleFile}))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{onClick:this.handleSubmit,disabled:this.state.disableSubmit},"Create Bus")))))}}]),a}(n.Component),Qe=a(77),Ke=a.n(Qe),Xe=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).initMap=function(){n.setState({gmapsLoaded:!0})},n.handleAutocomplete=function(e){n.setState({address:e})},n.handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){var t=n.state,a=t.name,r=t.address;if(e.preventDefault(),n.setState({successMsg:"",errMsg:"",disableSubmit:!0}),""===a||""===r)n.setState({errMsg:"name and address cannot be empty",disableSubmit:!1});else{var l={name:a.trim(),address:r};ne.default.createNewLocation(l).then((function(e){console.log(e.data),n.setState({successMsg:"Location successfully added",disableSubmit:!1,name:"",address:""})}),(function(e){n.setState({errMsg:e.response.data.message,disableSubmit:!1})}))}},n.state={name:"",address:"",errMsg:"",gmapsLoaded:!1,disableSubmit:!1},n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleAutocomplete=n.handleAutocomplete.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){window.initMap=this.initMap;var e=document.createElement("script");e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms&libraries=places&callback=initMap",document.querySelector("body").insertAdjacentElement("beforeend",e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Create Location"),this.state.errMsg&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Add location failed!"),r.a.createElement("p",null,this.state.errMsg)),this.state.successMsg&&r.a.createElement(C.a,{variant:"success"},r.a.createElement(C.a.Heading,null,"Add location succeed!"),r.a.createElement("p",null,this.state.successMsg)),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalName"},r.a.createElement(S.a.Label,{column:!0,sm:2,required:!0},"Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"name",type:"name",placeholder:"Location Name",onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Enter Address"),r.a.createElement(w.a,{sm:10},this.state.gmapsLoaded&&r.a.createElement(Ke.a,{value:this.state.address,onChange:this.handleAutocomplete,onSelect:this.handleSelect},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,l=e.loading;return r.a.createElement("div",null,r.a.createElement(S.a.Control,t({placeholder:"Search Places ...",className:"location-search-input",required:!0})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},l&&r.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))})))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{onClick:this.handleSubmit,disabled:this.state.disableSubmit},"Create Location")))))}}]),a}(n.Component),_e=a(11).default,$e=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={customers:[],errorMessage:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;_e.getAllCustomers().then((function(t){e.setState({customers:t.data.customers.reverse()})})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){return r.a.createElement(b.a,null,this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error obtaining customers!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement("h2",null,"View All Customers"),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Customer ID"),r.a.createElement("th",null,"First name"),r.a.createElement("th",null,"Last name"),r.a.createElement("th",null,"Email"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.customers.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.firstname),r.a.createElement("td",null,e.lastname),r.a.createElement("td",null,e.email),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/admin/view/customers/".concat(e.id)},"View")))})))))}}]),a}(n.Component),et=a(323),tt=a(11).default,at=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={customer:{},errorMessage:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;tt.getUserFromId(this.props.match.params.id).then((function(t){e.setState({customer:t.data.user})})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){return r.a.createElement(b.a,null,this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error fetching customer details!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement("h2",null,"Customer Details"),r.a.createElement("strong",null,"Customer ID:")," ",this.state.customer._id," ",r.a.createElement("br",null),r.a.createElement("strong",null,"First name:")," ",this.state.customer.firstname," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Last name:")," ",this.state.customer.lastname," ",r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",this.state.customer.email," ",r.a.createElement("br",null),r.a.createElement(et.a,{style:{marginTop:"3vh"}},r.a.createElement(O.a,{href:"/admin/view/customers/".concat(this.state.customer._id,"/bookings")},"View Customer's Bookings"),r.a.createElement(O.a,{href:"/admin/modify/customers/".concat(this.state.customer._id)},"Modify Customer Details")))}}]),a}(n.Component),nt=a(11).default,rt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.handleSubmit=function(e){e.preventDefault();var t=n.state.customer;if(""===n.state.firstname.trim())return n.setState({modifyErrorMessage:"First name shall not be empty"});if(t.firstname=n.state.firstname.trim(),""===n.state.lastname.trim())return n.setState({modifyErrorMessage:"Last name shall not be empty"});if(t.lastname=n.state.lastname.trim(),""===n.state.email.trim())return n.setState({modifyErrorMessage:"Email shall not be empty"});var a={email:n.state.email.trim()};nt.checkEmailExists(a).then((function(e){if(e.data.exist&&n.state.email!==n.state.customer.email)return n.setState({modifyErrorMessage:"Email already exists! Please revert or try another one."});t.email=n.state.email.trim(),nt.updateUser(t).then((function(e){return window.location.href="/admin/view/customers/".concat(n.state.customer._id)})).catch((function(e){return n.setState({modifyErrorMessage:e.response.data.message})}))})).catch((function(){return n.setState({modifyErrorMessage:"Error checking if email exists!"})}))},n.state={customer:{},firstname:"",lastname:"",email:"",fetchErrorMessage:"",modifyErrorMessage:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;nt.getUserFromId(this.props.match.params.id).then((function(t){e.setState({firstname:t.data.user.firstname,lastname:t.data.user.lastname,email:t.data.user.email,id:t.data.user._id,customer:t.data.user})})).catch((function(t){e.setState({fetchErrorMessage:t.response.data.message})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},this.state.fetchErrorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error fetching customer details!"),r.a.createElement("p",null,this.state.fetchErrorMessage)),this.state.modifyErrorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error modifying customer details!"),r.a.createElement("p",null,this.state.modifyErrorMessage)),r.a.createElement("h2",null,"Modify Customer Details"),r.a.createElement("strong",null,"Customer ID:")," ",this.state.customer._id," ",r.a.createElement("br",null),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFirstName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"First Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"firstname",type:"text",value:this.state.firstname,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLastName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Last Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"lastname",type:"text",value:this.state.lastname,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalEmail"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Email"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"email",type:"email",value:this.state.email,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{onClick:this.handleSubmit},"Modify User"),r.a.createElement(O.a,{variant:"danger",href:"/admin/view/customers/".concat(this.state.customer._id)},"Cancel")))))}}]),a}(n.Component),lt=a(10).default,st=a(16).default,ot=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={bookings:[],locations:[],cars:[],errorMessage:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;ye.getAllBookings().then((function(t){e.setState({bookings:t.data.bookings.reverse()})})).catch((function(t){e.setState({errorMessage:t.response.data.message})})),lt.getAllLocations().then((function(t){var a=e.state.locations;t.data.forEach((function(t){var n={id:t._id,address:t.address,name:t.name};a.push(n),e.setState({locations:a})}))})).catch((function(t){e.setState({errorMessage:t.response.data.message})})),st.getAllCars().then((function(t){e.setState({cars:t.data.cars})})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error fetching all bookings!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement("h2",null,"View All Bookings"),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"User ID"),r.a.createElement("th",null,"Booked Time"),r.a.createElement("th",null,"Pickup Time"),r.a.createElement("th",null,"Return Time"),r.a.createElement("th",null,"Bus ID"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.bookings.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,r.a.createElement("a",{href:"/admin/view/customers/".concat(t.user)},t.user)),r.a.createElement("td",null,t.bookedtime),r.a.createElement("td",null,t.pickuptime),r.a.createElement("td",null,t.returntime),r.a.createElement("td",null,e.state.cars.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.car&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/admin/view/cars/".concat(t.car)},e.make)))}))),r.a.createElement("td",null,"$",t.cost),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/admin/view/location/".concat(t.location)},e.name)))}))),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,e.address))}))),r.a.createElement("td",null,t.status),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/admin/view/bookings/".concat(t.id)},"View")))})))))}}]),a}(n.Component),ct=a(10).default,it=a(16).default,mt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={booking:{},car:{},location:{},errorMessage:"",activeMarker:{},showingInfoWindow:!1,selectedPlace:{},isLoading:!1},n.handleCancelButton=n.handleCancelButton.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"getBookingDetails",value:function(){var e=this;ye.getBooking(this.props.match.params.id).then((function(t){e.setState({booking:t.data.booking}),it.getCar(e.state.booking.car).then((function(t){e.setState({car:t.data.car})})),ct.getLocationFromId(e.state.booking.location).then((function(t){ct.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.address,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({location:n,isLoading:!0})}))}))})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"componentDidMount",value:function(){this.getBookingDetails()}},{key:"handleCancelButton",value:function(){var e=this,t=this.state.booking;t.status="Cancelled",t.id=t._id,this.setState({booking:t}),ye.modifyBooking(this.state.booking).then((function(){e.getBookingDetails()}))}},{key:"checkBookingPast",value:function(e){var t=new Date;return t.setMinutes(t.getMinutes()-t.getTimezoneOffset()),new Date(e)>t}},{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("h2",null,"Booking details"),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error obtaining booking!"),r.a.createElement("p",null,this.state.errorMessage)),this.state.isLoading&&r.a.createElement("div",{id:"garage-map",style:{height:"400px"}},r.a.createElement(ae.Map,{google:this.props.google,initialCenter:{lat:this.state.location.lat,lng:this.state.location.lng},style:{height:"400px",width:"400px"},zoom:14,onClick:this.mapOnMapClick},r.a.createElement(ae.Marker,{id:this.state.location.id,name:this.state.location.name,address:this.state.location.address,onClick:this.mapOnMarkerClick,position:{lat:this.state.location.lat,lng:this.state.location.lng}}),r.a.createElement(ae.InfoWindow,{onClose:this.onInfoWindowClose,marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",{id:"info-window"},r.a.createElement("h2",null,this.state.selectedPlace.name),r.a.createElement("p",null,this.state.selectedPlace.address),r.a.createElement("a",{href:"/locations/"+this.state.selectedPlace.id},"Check out this location"))))),!this.state.errorMessage&&r.a.createElement(S.a,{responsive:!0},r.a.createElement("b",null,"Booking ID: ")," ",this.state.booking._id," ",r.a.createElement("br",null),r.a.createElement("b",null,"Booking time: ")," ",this.state.booking.bookedtime," ",r.a.createElement("br",null),r.a.createElement("b",null,"Pickup time: ")," ",this.state.booking.pickuptime," ",r.a.createElement("br",null),r.a.createElement("b",null,"Return time: ")," ",this.state.booking.returntime," ",r.a.createElement("br",null),r.a.createElement("b",null,"Cost: ")," $",this.state.booking.cost," ",r.a.createElement("br",null),r.a.createElement("b",null,"Location: ")," ",r.a.createElement("a",{href:"/admin/view/location/".concat(this.state.location.id)},this.state.location.name)," ",r.a.createElement("br",null),r.a.createElement("b",null,"Address: ")," ",this.state.location.address," ",r.a.createElement("br",null),r.a.createElement("b",null,"Status: ")," ",this.state.booking.status," ",r.a.createElement("br",null),"Confirmed"===this.state.booking.status&&this.checkBookingPast(this.state.booking.pickuptime)&&r.a.createElement(O.a,{variant:"danger",onClick:this.handleCancelButton},"Cancel"),r.a.createElement(w.a,{sm:4,fluid:!0},r.a.createElement("div",{className:"cars-div-white",style:{border:"solid black 2px"}},r.a.createElement("img",{src:this.state.car.image,alt:"car",width:"100"}),r.a.createElement("h2",{style:{marginTop:"1vh"}},this.state.car.make),r.a.createElement("p",null,this.state.car.fueltype,", ",this.state.car.bodytype,", ",this.state.car.seats," seaters, ",this.state.car.colour),r.a.createElement("h5",null,"$",this.state.car.costperhour," per hour"),r.a.createElement("h5",null,"Number Plate: ",this.state.car.numberplate),r.a.createElement("a",{href:"/admin/view/cars/".concat(this.state.car._id)},r.a.createElement("b",null,"Bus ID: "),this.state.car._id)))))}}]),a}(n.Component),ut=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(mt),dt=a(10).default,ht=a(16).default,pt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={bookings:[],locations:[],cars:[],errorMessage:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;ye.getUserBookings(this.props.match.params.id).then((function(t){e.setState({bookings:t.data.bookings.reverse()})})).catch((function(t){e.setState({errorMessage:t.response.data.message})})),dt.getAllLocations().then((function(t){var a=e.state.locations;t.data.forEach((function(t){var n={id:t._id,address:t.address,name:t.name};a.push(n),e.setState({locations:a})}))})).catch((function(t){e.setState({errorMessage:t.response.data.message})})),ht.getAllCars().then((function(t){e.setState({cars:t.data.cars})})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement("div",{className:"container"},this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error fetching customer's bookings!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement("h2",null,"Bookings for Customer ",this.props.match.params.id),r.a.createElement(O.a,{href:"/admin/view/customers/".concat(this.props.match.params.id)},"View Customer Profile"),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Booking ID"),r.a.createElement("th",null,"Booked Time"),r.a.createElement("th",null,"Pickup Time"),r.a.createElement("th",null,"Return Time"),r.a.createElement("th",null,"Car"),r.a.createElement("th",null,"Cost"),r.a.createElement("th",null,"Location"),r.a.createElement("th",null,"Address"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.bookings.map((function(t){return r.a.createElement("tr",null,r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.bookedtime),r.a.createElement("td",null,t.pickuptime),r.a.createElement("td",null,t.returntime),r.a.createElement("td",null,e.state.cars.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.car&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/admin/view/cars/".concat(t.car)},e.make)))}))),r.a.createElement("td",null,"$",t.cost),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{href:"/admin/view/location/".concat(t.location)},e.name)))}))),r.a.createElement("td",null,e.state.locations.map((function(e){return r.a.createElement(r.a.Fragment,null,e.id===t.location&&r.a.createElement(r.a.Fragment,null,e.address))}))),r.a.createElement("td",null,t.status),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/admin/view/bookings/".concat(t.id)},"View")))}))))))}}]),a}(n.Component),gt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={cars:[],errorMessage:""},n.viewCarDetails=n.viewCarDetails.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"viewCarDetails",value:function(e){this.props.history.push("/admin/view/cars/".concat(e))}},{key:"componentDidMount",value:function(){var e=this;he.default.getAllCars().then((function(t){t.data.cars.forEach((function(t){ne.default.getLocationFromId(t.location).then((function(a){t.location=a.data.name,t.locationId=a.data._id,e.state.cars.push(t),e.setState({cars:e.state.cars})}))}))})).catch((function(t){e.setState({errorMessage:t.response.data.message})}))}},{key:"render",value:function(){var e=this;return r.a.createElement(b.a,null,r.a.createElement("h2",null,"All buses, click row to view/modify."),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error Getting all cars!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"make"),r.a.createElement("th",null,"seats"),r.a.createElement("th",null,"body type"),r.a.createElement("th",null,"number plate"),r.a.createElement("th",null,"colour"),r.a.createElement("th",null,"cost per hour"),r.a.createElement("th",null,"fuel type"),r.a.createElement("th",null,"location"),r.a.createElement("th",null,"image"),r.a.createElement("th",null,"current booking"))),r.a.createElement("tbody",null,this.state.cars.map((function(t){return r.a.createElement("tr",{style:{cursor:"pointer"},key:t.id,onClick:function(){return e.viewCarDetails(t.id)}},r.a.createElement("td",null,t.id),r.a.createElement("td",null,t.make),r.a.createElement("td",null,t.seats),r.a.createElement("td",null,t.bodytype),r.a.createElement("td",null,t.numberplate),r.a.createElement("td",null,t.colour),r.a.createElement("td",null,t.costperhour),r.a.createElement("td",null,t.fueltype),r.a.createElement("td",null,t.location),r.a.createElement("td",null,r.a.createElement("img",{alt:"car",src:t.image,width:50})),r.a.createElement("td",null,null===t.currentbooking?"No booking":t.currentbooking))})))))}}]),a}(n.Component),Et=Object(d.g)(gt),ft=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleFile=function(e){var t=e.target.files;if(null!==t){if(e.target.files[0].size>4e6)return n.setState({errMsg:"Image exceeded upload size limit! Please try again with another image."});var a=new FileReader;a.readAsDataURL(t[0]),a.onload=function(e){n.setState({b64photo:e.target.result,errMsg:""})}}},n.inputValidation=function(){var e=n.state,t=e.make,a=e.seats,r=e.bodytype,l=e.numberplate,s=e.colour,o=e.costperhour,c=e.fueltype,i=e.location,m=e.b64photo;return""===t||""===a||""===r||""===l||""===s||""===o||""===c||""===i||""===m?(n.setState({errMsg:"Please fill in everything"}),!1):(n.setState({errMsg:""}),!0)},n.handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.state={car:"",locationList:[],make:"",seats:"",bodytype:"",numberplate:"",colour:"",costperhour:"",fueltype:"",location:"",b64photo:"",errMsg:"",successMsg:""},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleFile=n.handleFile.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.inputValidation()){var a=this.state.car;this.setState({disableSubmit:!0});var n={_id:a._id,make:this.state.make,seats:this.state.seats,bodytype:this.state.bodytype,numberplate:this.state.numberplate,colour:this.state.colour,costperhour:this.state.costperhour,fueltype:this.state.fueltype,location:this.state.location,image:this.state.b64photo};he.default.updateCar(n).then((function(e){t.setState({successMsg:"Car is successfully updated",disableSubmit:!1,errMsg:""}),t.getCar(),t.scrollTop()})).catch((function(e){t.setState({errMsg:e.response.data.message,disableSubmit:!1,successMsg:""})}))}}},{key:"scrollTop",value:function(){window.scrollTo({top:0,behavior:"smooth"})}},{key:"getCar",value:function(){var e=this;he.default.getCar(this.props.match.params.id).then((function(t){var a=t.data.car;ne.default.getLocationFromId(a.location).then((function(t){a.location=t.data.address,a.locationId=t.data._id,e.setState({car:a,make:a.make,numberplate:a.numberplate,costperhour:a.costperhour,seats:a.seats,colour:a.colour,bodytype:a.bodytype,location:a.locationId,fueltype:a.fueltype,b64photo:a.image})}))})).catch((function(t){e.setState({errMsg:t.response})}))}},{key:"componentDidMount",value:function(){var e=this;this.getCar(),ne.default.getAllLocations().then((function(t){t.data.map((function(t){return e.setState({locationList:e.state.locationList.concat(t)})}))}),(function(t){e.setState({errMsg:t.response})}))}},{key:"render",value:function(){var e=this.state.car;return r.a.createElement(b.a,null,r.a.createElement("h2",null,"Bus details:"),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"make"),r.a.createElement("th",null,"seats"),r.a.createElement("th",null,"body type"),r.a.createElement("th",null,"number plate"),r.a.createElement("th",null,"colour"),r.a.createElement("th",null,"cost per hour"),r.a.createElement("th",null,"fuel type"),r.a.createElement("th",null,"location"),r.a.createElement("th",null,"image"),r.a.createElement("th",null,"current booking"))),r.a.createElement("tbody",null,r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.make),r.a.createElement("td",null,e.seats),r.a.createElement("td",null,e.bodytype),r.a.createElement("td",null,e.numberplate),r.a.createElement("td",null,e.colour),r.a.createElement("td",null,e.costperhour),r.a.createElement("td",null,e.fueltype),r.a.createElement("td",null,e.location),r.a.createElement("td",null,r.a.createElement("img",{alt:"car",src:e.image,width:50})),r.a.createElement("td",null,null===e.currentbooking?"No booking":e.currentbooking)))),r.a.createElement("h2",null,"Modify details"),this.state.errMsg&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Modify car failed!"),r.a.createElement("p",null,this.state.errMsg)),this.state.successMsg&&r.a.createElement(C.a,{variant:"success"},r.a.createElement(C.a.Heading,null,"Modify car succeed!"),r.a.createElement("p",null,this.state.successMsg)),r.a.createElement(S.a,{responsive:!0},r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalMake"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Make"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"make",type:"make",value:this.state.make,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalSeats"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Seats"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"seats",type:"seats",onChange:this.handleChange,required:!0},Ze.map((function(t,a){return t===e.seats?r.a.createElement("option",{key:a,value:t,selected:!0},t):r.a.createElement("option",{key:a,value:t},t)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalBodyType"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Body type"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"bodytype",type:"bodytype",onChange:this.handleChange,required:!0},Ve.map((function(t,a){return t===e.bodytype?r.a.createElement("option",{key:a,value:t,selected:!0},t):r.a.createElement("option",{key:a,value:t},t)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalNumberPlate"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Number Plate"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"numberplate",type:"numberplate",value:this.state.numberplate,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalColour"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Colour"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"colour",type:"colour",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select colour"),qe.map((function(t,a){return t===e.colour?r.a.createElement("option",{key:a,value:t,selected:!0},t):r.a.createElement("option",{key:a,value:t},t)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalCostPerHour"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Cost per hour"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"costperhour",type:"number",value:this.state.costperhour,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFuelType"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Fuel type"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"fueltype",type:"fueltype",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select fuel type"),Ye.map((function(t,a){return t===e.fueltype?r.a.createElement("option",{key:a,value:t,selected:!0},t):r.a.createElement("option",{key:a,value:t},t)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLocation"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Location"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{as:"select",name:"location",type:"location",onChange:this.handleChange,required:!0},r.a.createElement("option",{disabled:!0,selected:!0},"Select location"),"l",this.state.locationList.map((function(t,a){return t.address===e.location?r.a.createElement("option",{key:a,value:t._id,selected:!0},t.address):r.a.createElement("option",{key:a,value:t._id},t.address)}))))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalLocation"},r.a.createElement(S.a.Label,{column:!0,sm:2}),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.File,{id:"custom-file",label:"Car Image (4MB max)",name:"b64photo",accept:"image/*",onChange:this.handleFile}))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{onClick:this.handleSubmit,disabled:this.state.disableSubmit},"Update Car")))))}}]),a}(n.Component),bt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={locations:[],errorMessage:""},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;ne.default.getAllLocations().then((function(t){e.setState({locations:t.data})})).catch((function(t){e.setState({errorMessage:t.response})}))}},{key:"render",value:function(){return r.a.createElement(b.a,{fluid:!0},r.a.createElement("h2",null,"All locations, click to view details"),this.state.errorMessage&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Error Getting all cars!"),r.a.createElement("p",null,this.state.errorMessage)),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"name"),r.a.createElement("th",null,"address"),r.a.createElement("th",null),r.a.createElement("th",null))),r.a.createElement("tbody",null,this.state.locations.map((function(e){return r.a.createElement("tr",{style:{cursor:"pointer"},key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.address),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/admin/modify/location/".concat(e._id)},"Modify")),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/admin/view/location/".concat(e._id)},"View")))})))))}}]),a}(n.Component),vt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).mapOnMarkerClick=function(e,t){return n.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},n.mapOnMapClick=function(){return n.setState({showingInfoWindow:!1,selectedPlace:{},activeMarker:{}})},n.state={location:"",errMessage:"",cars:[],successMessage:"",activeMarker:{},showingInfoWindow:!1,selectedPlace:{},isLoading:!1},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.location.state&&this.setState({successMessage:this.props.location.state.success}),ne.default.getLocationFromId(this.props.match.params.id).then((function(t){ne.default.getGeocodeFromAddress(t.data.address).then((function(a){var n={id:t.data._id,address:t.data.address,name:t.data.name,lat:a.data.results[0].geometry.location.lat,lng:a.data.results[0].geometry.location.lng,cars:t.data.cars};e.setState({location:n,isLoading:!0})})),t.data.cars.forEach((function(t){he.default.getCar(t).then((function(t){e.state.cars.push(t.data.car),e.setState({cars:e.state.cars})}))}))})).catch((function(t){e.setState({errMessage:t.response})}))}},{key:"render",value:function(){var e=this.state.location;return r.a.createElement(b.a,null,this.state.successMessage&&r.a.createElement(C.a,{variant:"success"},r.a.createElement(C.a.Heading,null,"Add bus succeed!"),r.a.createElement("p",null,this.state.successMessage)),r.a.createElement("h2",null,"Location details:"),r.a.createElement(fe.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"id"),r.a.createElement("th",null,"name"),r.a.createElement("th",null,"address"),r.a.createElement("th",null))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,e.id),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.address),r.a.createElement("td",null,r.a.createElement(O.a,{href:"/admin/modify/location/".concat(e.id)},"Modify"))))),this.state.isLoading&&r.a.createElement("div",{style:{height:"400px"}},r.a.createElement(ae.Map,{google:this.props.google,initialCenter:{lat:this.state.location.lat,lng:this.state.location.lng},style:{height:"400px",width:"50%"},zoom:14,onClick:this.mapOnMapClick},r.a.createElement(ae.Marker,{id:this.state.location.id,name:this.state.location.name,address:this.state.location.address,onClick:this.mapOnMarkerClick,position:{lat:this.state.location.lat,lng:this.state.location.lng}}),r.a.createElement(ae.InfoWindow,{onClose:this.onInfoWindowClose,marker:this.state.activeMarker,visible:this.state.showingInfoWindow},r.a.createElement("div",{id:"info-window"},r.a.createElement("h2",null,this.state.selectedPlace.name),r.a.createElement("p",null,this.state.selectedPlace.address),r.a.createElement("a",{href:"/locations/"+this.state.selectedPlace.id},"Check out this location"))))),r.a.createElement("h2",null,"Buses here:"),r.a.createElement(M.a,{responsive:!0},0!==this.state.cars.length?this.state.cars.map((function(e){return r.a.createElement(kt,{car:e})})):r.a.createElement(w.a,null,"Garage empty")))}}]),a}(n.Component);function kt(e){var t=e.car;return r.a.createElement(w.a,{sm:4,responsive:!0},r.a.createElement("div",{className:"cars-div-white",style:{border:"solid black 2px"}},r.a.createElement("img",{src:t.image,alt:"car",width:"100"}),r.a.createElement("h2",{style:{marginTop:"1vh"}},t.make),r.a.createElement("p",null,t.fueltype,", ",t.bodytype,", ",t.seats," seaters, ",t.colour),r.a.createElement("h5",null,"$",t.costperhour," per hour"),r.a.createElement("h5",null,"Number Plate: ",t.numberplate),r.a.createElement("a",{href:"/admin/view/cars/".concat(t._id)},r.a.createElement("b",null,"Bus ID: "),t._id)))}var yt=Object(ae.GoogleApiWrapper)({apiKey:"AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms"})(vt),Ct=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).initMap=function(){n.setState({gmapsLoaded:!0})},n.handleAutocomplete=function(e){n.setState({address:e})},n.handleChange=function(e){n.setState(Object(k.a)({},e.target.name,e.target.value))},n.state={location:"",address:"",name:"",errMsg:"",gmapsLoaded:!1,successMsg:"",disableSubmit:!1},n.handleChange=n.handleChange.bind(Object(y.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(y.a)(n)),n.handleAutocomplete=n.handleAutocomplete.bind(Object(y.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.initMap=this.initMap;var t=document.createElement("script");t.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAF3TYatEpzOshnx4qtfRNuthI3j6GWUms&libraries=places&callback=initMap",document.querySelector("body").insertAdjacentElement("beforeend",t),ne.default.getLocationFromId(this.props.match.params.id).then((function(t){e.setState({address:t.data.address,name:t.data.name,location:t.data})})).catch((function(t){e.setState({errMsg:t.response})}))}},{key:"handleSubmit",value:function(){var e=this;if(""!==this.state.name){this.setState({disableSubmit:!0});var t={_id:this.state.location._id,name:this.state.name,address:this.state.address,cars:this.state.location.cars};ne.default.updateLocation(t).then((function(a){e.props.history.push("/admin/view/location/".concat(t._id),{success:"Successfully updated location"})})).catch((function(t){e.setState({errMsg:t.response.data.message,disableSubmit:!1,successMsg:""})}))}else this.setState({errMsg:"name can't be empty"})}},{key:"render",value:function(){return r.a.createElement(b.a,null,r.a.createElement("h2",null,"Modify Location Details"),r.a.createElement("strong",null,"Location ID:")," ",this.state.location._id," ",r.a.createElement("br",null),this.state.errMsg&&r.a.createElement(C.a,{variant:"danger"},r.a.createElement(C.a.Heading,null,"Modify location failed!"),r.a.createElement("p",null,this.state.errMsg)),r.a.createElement(S.a,null,r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalFirstName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Name"),r.a.createElement(w.a,{sm:10},r.a.createElement(S.a.Control,{name:"name",type:"text",value:this.state.name,onChange:this.handleChange,required:!0}))),r.a.createElement(S.a.Group,{as:M.a,controlId:"formHorizontalName"},r.a.createElement(S.a.Label,{column:!0,sm:2},"Enter Address"),r.a.createElement(w.a,{sm:10},this.state.gmapsLoaded&&r.a.createElement(Ke.a,{value:this.state.address,onChange:this.handleAutocomplete,onSelect:this.handleSelect},(function(e){var t=e.getInputProps,a=e.suggestions,n=e.getSuggestionItemProps,l=e.loading;return r.a.createElement("div",null,r.a.createElement(S.a.Control,t({placeholder:"Search Places ...",className:"location-search-input",required:!0})),r.a.createElement("div",{className:"autocomplete-dropdown-container"},l&&r.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:t,style:a}),r.a.createElement("span",null,e.description))}))))})))),r.a.createElement(S.a.Group,{as:M.a},r.a.createElement(w.a,{sm:{span:10,offset:2}},r.a.createElement(O.a,{onClick:this.handleSubmit,disabled:this.state.disableSubmit},"Update Location")))))}}]),a}(n.Component),St=Object(d.g)(Ct),Mt=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={cars:[]},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;he.default.getAllCars().then((function(t){t.data.cars.forEach((function(t){ne.default.getLocationFromId(t.location).then((function(a){t.location=a.data.name,t.locationId=a.data._id,e.state.cars.push(t),e.setState({cars:e.state.cars})}))}))}))}},{key:"render",value:function(){return r.a.createElement("section",{className:"section-item"},r.a.createElement("div",null,r.a.createElement("h2",null,"Our buses"),r.a.createElement(b.a,{fluid:!0},r.a.createElement(M.a,null,this.state.cars.map((function(e){return r.a.createElement(wt,{car:e})}))))),r.a.createElement("div",{className:"find-nearest-car-div"},r.a.createElement("h2",null,"Find your nearest bus"),r.a.createElement("p",null,"Our buses are spread all over United States. There's probably one near you"),r.a.createElement("div",null,r.a.createElement(O.a,{href:"/locations"},"Check out our locations"))))}}]),a}(n.Component);function wt(e){var t=e.car;return r.a.createElement(w.a,{sm:4},r.a.createElement("div",{className:"cars-div-white"},r.a.createElement("img",{src:t.image,alt:"car",width:"100"}),r.a.createElement("h2",{style:{marginTop:"1vh"}},t.make),r.a.createElement("p",null,t.fueltype,", ",t.bodytype,", ",t.seats," seaters, ",t.colour),r.a.createElement("h5",null,"$",t.costperhour," per hour"),r.a.createElement("a",{href:"/locations/"+t.locationId},r.a.createElement("strong",null,"Garage Location:")," ",t.location)))}a(315);var Ot=function(e){Object(i.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={availableCars:[],pickupTime:"",returnTime:""},e}return Object(c.a)(a,[{key:"updateCars",value:function(e,t,a){this.setState({availableCars:e,pickupTime:t,returnTime:a})}},{key:"componentDidMount",value:function(){E.default.isUserLoggedIn()&&E.default.setupAxiosInterceptors(E.default.getUserToken())}},{key:"render",value:function(){var e=this,t=this.state,a=t.availableCars,n=t.pickupTime,l=t.returnTime,s=E.default.isUserStaff();return r.a.createElement(u.a,null,r.a.createElement(f,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:v}),r.a.createElement(d.b,{path:"/signup",component:Z}),r.a.createElement(d.b,{path:"/login",component:te}),r.a.createElement(d.b,{path:"/locations/:id",component:Ee}),r.a.createElement(d.b,{path:"/locations",component:le}),!s&&r.a.createElement(se,{path:"/filter",component:function(e){return r.a.createElement(Oe,Object.assign({},e,{availableCars:a,pickupTime:n,returnTime:l}))}}),!s&&r.a.createElement(se,{path:"/dashboard",component:function(t){return r.a.createElement(Le,Object.assign({},t,{updateCars:e.updateCars.bind(e)}))}}),!s&&r.a.createElement(se,{path:"/mybookings/:id",component:Ne}),!s&&r.a.createElement(se,{path:"/mybookings",component:Ie}),!s&&r.a.createElement(se,{path:"/myprofile",component:xe}),!s&&r.a.createElement(se,{path:"/confirmBooking",component:Se}),r.a.createElement(ue,{path:"/staff",component:We}),r.a.createElement(ue,{path:"/buses",component:Mt}),r.a.createElement(ue,{path:"/admin/signup",component:Re}),r.a.createElement(ue,{path:"/admin/addcars",component:Je}),r.a.createElement(ue,{path:"/admin/addlocation",component:Xe}),r.a.createElement(ue,{path:"/admin/view/customers/:id/bookings",component:pt}),r.a.createElement(ue,{path:"/admin/view/customers/:id",component:at}),r.a.createElement(ue,{path:"/admin/view/customers",component:$e}),r.a.createElement(ue,{path:"/admin/view/bookings/:id",component:ut}),r.a.createElement(ue,{path:"/admin/view/bookings",component:ot}),r.a.createElement(ue,{path:"/admin/modify/customers/:id",component:rt}),r.a.createElement(ue,{path:"/admin/view/cars/:id",component:ft}),r.a.createElement(ue,{path:"/admin/view/cars",component:Et}),r.a.createElement(ue,{path:"/admin/modify/location/:id",component:St}),r.a.createElement(ue,{path:"/admin/view/location/:id",component:yt}),r.a.createElement(ue,{path:"/admin/view/location",component:bt})))}}]),a}(n.Component),jt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function At(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(71).config(),s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ot,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");jt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):At(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):At(t,e)}))}}()},65:function(e,t,a){}},[[154,1,2]]]);
//# sourceMappingURL=main.0060f9af.chunk.js.map